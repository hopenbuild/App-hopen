#!perl
# t/001-hopentest.pm: test HopenTest itself!

use rlib 'lib';
use HopenTest;

sub test_ref_equal_ok {
    my $x = [1];
    ref_equal_ok($x,  $x,  'ref_equal_ok: identical refs');
    ref_equal_ok(\$x, \$x, 'ref_equal_ok: identical refs taken separately');
}

sub test_ref_equal_ok_ne {
    local $TODO = "This test should always fail (not actually a 'to-do' item)";
    my $x = [1];
    my $y = [1];
    my $z = +{};
    ref_equal_ok($x, $y,
        'ref_equal_ok: different refs to the same kind of thing');
    ref_equal_ok($x, $z, 'ref_equal_ok: ARRAY !=  HASH');
    ref_equal_ok($z, $y, 'ref_equal_ok: HASH != ARRAY');
    ref_equal_ok(42, $x, 'ref_equal_ok: scalar != ARRAY');
    ref_equal_ok($x, 42, 'ref_equal_ok: ARRAY != scalar');
} ## end sub test_ref_equal_ok_ne

test_ref_equal_ok;
test_ref_equal_ok_ne;

done_testing();
